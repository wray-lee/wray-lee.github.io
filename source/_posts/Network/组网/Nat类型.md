---
title: Nat类型
date: 2023-09-04 21:48:57
---
# Nat类型

## Full cone nat 全锥形nat
无条件转发

## Restricted cone nat地址受限锥形nat

与内网发生通讯的外网主机才能进行nat

## Port restricted cone nat端口受限锥形nat

在前者基础添加外网主机端口，通讯过的外网主机特定端口发送的数据可以nat

## symmetric nat 对称nat

不进行转发

> client(192.168.0.3, 100)和server(1.1.1.1, 1111)在路由器上建立好映射关系后，如果这个时候路由器(8.8.8.8)在800端口上收到从另外一台server(2.2.2.2, 2222)发来的数据，是不是应该转发给(192.168.0.3, 100)呢？
>
> 有四种情况:
>
> 1, 无条件转发给(192.168.0.3, 100)， 这就是全锥型(Full Cone)NAT。
>
> 2, 如果(192.168.0.3, 100)之前给(2.2.2.2)发送过数据，则转发， 这就是受限锥型(Restricted Cone)。
>
> 3, 如果(192.168.0.3, 100)之前给(2.2.2.2, 2222)发送过数据，则转发， 这就是端口受限锥型(Port Restricted Cone)。
>
> 4, 丢弃报文，拒绝转发, 这就是对称型NAT。